@page "/produto/create"
@inject HttpClient  http
@inject NavigationManager navigation

<h2>Novo Produto</h2>

<ProdutoForm Produto="@produto" OnValidSubmit="CriarProduto" 
             ButtonTextCancelar="Cancelar"
             ButtonTextSubmit="Salvar">
</ProdutoForm>

@code {

    private Produto produto = new Produto();

    async Task CriarProduto()
    {
        await http.PostAsJsonAsync("/api/produto", produto);
        navigation.NavigateTo("produto");
    }
}
